<div class="auth">
  <aside class="hero" aria-hidden="true">
    <div class="hero-content">
      <h1>Deudas entre amigos</h1>
      <p>Registra, paga y consulta el estado de tus deudas en segundos.</p>
    </div>
  </aside>

  <main class="panel">
    <section class="auth-panel">
      <mat-tab-group duynamicHeight mat-stretch-tabs>
        <mat-tab label="Ingresar">
          <form [formGroup]="loginForm" (ngSubmit)="doLogin()" autocomplete="off" class="form">
            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Email</mat-label>
              <mat-icon matPrefix>mail</mat-icon>
              <input matInput formControlName="email" type="email" autocomplete="email">
              <mat-error *ngIf="loginForm.get('email')?.hasError('required')">Requerido</mat-error>
              <mat-error *ngIf="loginForm.get('email')?.hasError('email')">Email inv치lido</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Contrase침a</mat-label>
              <mat-icon matPrefix>lock</mat-icon>
              <input matInput [type]="hidePwdLogin() ? 'password' : 'text'" formControlName="password"
                autocomplete="current-password">
              <button type="button" mat-icon-button matSuffix (click)="hidePwdLogin.set(!hidePwdLogin())"
                [attr.aria-label]="'Mostrar/Ocultar'">
                <mat-icon>{{ hidePwdLogin() ? 'visibility' : 'visibility_off' }}</mat-icon>
              </button>
              <mat-error *ngIf="loginForm.get('password')?.hasError('required')">Requerida</mat-error>
            </mat-form-field>

            <button mat-raised-button color="primary" class="full" type="submit"
              [disabled]="loginForm.invalid || loading()">
              <mat-progress-spinner *ngIf="loading()" mode="indeterminate" diameter="16"></mat-progress-spinner>
              <span *ngIf="!loading()">Entrar</span>
            </button>
          </form>
        </mat-tab>

        <mat-tab label="Registrarme">
          <form [formGroup]="registerForm" (ngSubmit)="doRegister()" autocomplete="off" class="form">
            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Nombre</mat-label>
              <mat-icon matPrefix>person</mat-icon>
              <input matInput formControlName="name" autocomplete="name">
              <mat-error *ngIf="registerForm.get('name')?.hasError('required')">Requerido</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Email</mat-label>
              <mat-icon matPrefix>mail</mat-icon>
              <input matInput formControlName="email" type="email" autocomplete="email">
              <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Requerido</mat-error>
              <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Email inv치lido</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Telefono</mat-label>
              <mat-icon matPrefix>phone</mat-icon>
              <input matInput formControlName="phone" type="number" autocomplete="phone">
              <mat-error *ngIf="registerForm.get('phone')?.hasError('required')">Requerido</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="full" floatLabel="auto">
              <mat-label>Contrase침a</mat-label>
              <mat-icon matPrefix>lock</mat-icon>
              <input matInput [type]="hidePwdRegister() ? 'password' : 'text'" formControlName="password"
                autocomplete="new-password">
              <button type="button" mat-icon-button matSuffix (click)="hidePwdRegister.set(!hidePwdRegister())"
                [attr.aria-label]="'Mostrar/Ocultar'">
                <mat-icon>{{ hidePwdRegister() ? 'visibility' : 'visibility_off' }}</mat-icon>
              </button>
              <mat-error *ngIf="registerForm.get('password')?.hasError('required')">Requerida</mat-error>
            </mat-form-field>

            <button mat-raised-button color="primary" class="full" type="submit"
              [disabled]="registerForm.invalid || loading()">
              <mat-progress-spinner *ngIf="loading()" mode="indeterminate" diameter="16"></mat-progress-spinner>
              <span *ngIf="!loading()">Crear cuenta</span>
            </button>
          </form>
        </mat-tab>
      </mat-tab-group>
    </section>
  </main>
</div>
